<!DOCTYPE html>

<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>Probando ready de jQuery</title>
        <link rel = "stylesheet" href = "./style.css">
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    </head>
    
    <body>
        <div id = "cuerpo">
            <div id = "ejercicio_1">
                <h1>Navegando entre las cabeceras</h1>
                <p>En esta apartado del documento, se editarán las cabeceras cuya etiqueta es "h1" y "h2", de manera que puedan incluirse elementos
                    que permitan la navegación de una cabecera a la otra. Además, se generará, de forma automática, un identificador para cada
                    cabecera.
                    <br><br>
                    Todo esto es posible gracias a JQuery.
                </p>
                
                <h2>Enunciado del ejercicio</h2>
                <p>En un texto que incluya diferentes etiquetas H2, añadir contenido para navegar de cada una a la siguientes, incluyendo un 
                    botón que desconecte esta funcionalidad (o la cambie).
                </p>
                
                <h2>Actividades adicionales</h2>
                <p>
                    <ul>
                        <li>Hacer lo mismo con las cabeceras cuya etiqueta es "h1", de manera que pueda navegarse a las cabeceras anteriores y posteriores de
                            tipo "h1".
                        </li>
                        
                        <li>Añadir, de manera automática, un identificador a cada cabecera de etiqueta "h1" y "h2".
                        </li>
                        
                        <li>Añadir, de manera automática, un ancla ("anchor") a las cabeceras de etiqueta "h1" y "h2".
                        </li>
                    </ul>
                </p>
                
                <h2>Algoritmo propuesto</h2>
                <pre>
                    $(function()
                    {
                        var ejercicio = 1;
                        var subcabecera = 1;
                        
                        $("h1").each(function()
                        {
                            $(this).prepend("Ejercicio " + ejercicio + ": ");
                            $(this).append(" (&lt;a name = \"ejercicio_" + ejercicio + "\" href = \"#ejercicio_" + ejercicio + "\">#&lt;/a>)")
                            ejercicio++;
                        });
                        
                        $("h1").each(function()
                        {
                            var sig_cabecera_h1 = $(this).parent().next().children("h1").first();
                            var ant_cabecera_h1 = $(this).parent().prev().children("h1").first();
                            var ancla1, ancla2;
                            var navegacion = '';
                            
                            if(ant_cabecera_h1.length > 0 && sig_cabecera_h1.length > 0)
                            {
                                ancla1 = $(ant_cabecera_h1).children().last();
                                ancla2 = $(sig_cabecera_h1).children().last();
                                
                                navegacion = "(&lt;a href = '#" + $(ancla1).attr("name") + "'>^&lt;/a> | &lt;a href = '#" 
                                                + $(ancla2).attr("name") + "'>v&lt;/a>) ";
                            }
                            else if(ant_cabecera_h1.length > 0)
                            {
                                ancla1 = $(ant_cabecera_h1).children().last();
                                
                                navegacion = "(&lt;a href = '#" + $(ancla1).attr("name") + "'>^&lt;/a>) ";
                            }
                            else if(sig_cabecera_h1.length > 0)
                            {
                                ancla1 = $(sig_cabecera_h1).children().last();
                                
                                navegacion = "(&lt;a href = '#" + $(ancla1).attr("name") + "'>v&lt;/a>) ";
                            }
                            
                            $(this).prepend(navegacion);
                        }
                        );
                        
                        $("h2").each(function()
                        {
                            $(this).prepend("Subcabecera " + subcabecera + ": ");
                            $(this).append(" (&lt;a name = \"subcabecera_" + subcabecera + "\" href = \"#subcabecera_" + subcabecera + "\">#&lt;/a>)")
                            subcabecera++;
                        });
                        
                        $("h2").each(function()
                        {
                            var sig_cabeceras_h2 = $(this).nextAll("h2");
                            var ant_cabeceras_h2 = $(this).prevAll("h2");
                            var ancla1, ancla2;
                            var navegacion = '';
                            
                            
                            if(ant_cabeceras_h2.length > 0 && sig_cabeceras_h2.length > 0)
                            {
                                ancla1 = $(ant_cabeceras_h2[0]).children().last();
                                ancla2 = $(sig_cabeceras_h2[0]).children().last();
                                
                                navegacion = "(&lt;a href = '#" + $(ancla1).attr("name") + "'>^&lt;/a> | &lt;a href = '#" 
                                                + $(ancla2).attr("name") + "'>v&lt;/a>) ";
                            }
                            else if(ant_cabeceras_h2.length > 0)
                            {
                                ancla1 = $(ant_cabeceras_h2[0]).children().last();
                                
                                navegacion = "(&lt;a href = '#" + $(ancla1).attr("name") + "'>^&lt;/a>) ";
                            }
                            else if(sig_cabeceras_h2.length > 0)
                            {
                                ancla1 = $(sig_cabeceras_h2[0]).children().last();
                                
                                navegacion = "(&lt;a href = '#" + $(ancla1).attr("name") + "'>v&lt;/a>) ";
                            }
                            
                            $(this).prepend(navegacion);
                        });
                    });
                </pre>
            </div>
            
            <div id = "ejercicio_2">
                <h1>Tabla con valores</h1>
                <p> En este apartado se realizarán una serie de operaciones a partir de los valores de una tabla.
                </p>
                
                <h2>Tabla con valores</h2>
                
                <h2>Tabla con valores</h2>
                
                <h2>Tabla con valores</h2>
            </div>
            
            <div id = "ejercicio_3">
                <h1>Tabla con valores</h1>
                <p> En este apartado se realizarán una serie de operaciones a partir de los valores de una tabla.
                </p>
                
                <h2>Tabla con valores</h2>
                
                <h2>Tabla con valores</h2>
                
                <h2>Tabla con valores</h2>
            </div>
            
            <script type = "text/javascript">
                $(function()
                {
                    var ejercicio = 1;
                    var subcabecera = 1;
                    
                    $("h1").each(function()
                    {
                        $(this).prepend("Ejercicio " + ejercicio + ": ");
                        $(this).append(" (<a name = \"ejercicio_" + ejercicio + "\" href = \"#ejercicio_" + ejercicio + "\">#</a>)")
                        ejercicio++;
                    });
                    
                    $("h1").each(function()
                    {
                        var sig_cabecera_h1 = $(this).parent().next().children("h1").first();
                        var ant_cabecera_h1 = $(this).parent().prev().children("h1").first();
                        var ancla1, ancla2;
                        var navegacion = '';
                        
                        if(ant_cabecera_h1.length > 0 && sig_cabecera_h1.length > 0)
                        {
                            ancla1 = $(ant_cabecera_h1).children().last();
                            ancla2 = $(sig_cabecera_h1).children().last();
                            
                            navegacion = "(<a href = '#" + $(ancla1).attr("name") + "'>^</a> | <a href = '#" + $(ancla2).attr("name") + "'>v</a>) ";
                        }
                        else if(ant_cabecera_h1.length > 0)
                        {
                            ancla1 = $(ant_cabecera_h1).children().last();
                            
                            navegacion = "(<a href = '#" + $(ancla1).attr("name") + "'>^</a>) ";
                        }
                        else if(sig_cabecera_h1.length > 0)
                        {
                            ancla1 = $(sig_cabecera_h1).children().last();
                            
                            navegacion = "(<a href = '#" + $(ancla1).attr("name") + "'>v</a>) ";
                        }
                        
                        $(this).prepend(navegacion);
                    }
                    );
                    
                    $("h2").each(function()
                    {
                        $(this).prepend("Subcabecera " + subcabecera + ": ");
                        $(this).append(" (<a name = \"subcabecera_" + subcabecera + "\" href = \"#subcabecera_" + subcabecera + "\">#</a>)")
                        subcabecera++;
                    });
                    
                    $("h2").each(function()
                    {
                        var sig_cabeceras_h2 = $(this).nextAll("h2");
                        var ant_cabeceras_h2 = $(this).prevAll("h2");
                        var ancla1, ancla2;
                        var navegacion = '';
                        
                        
                        if(ant_cabeceras_h2.length > 0 && sig_cabeceras_h2.length > 0)
                        {
                            ancla1 = $(ant_cabeceras_h2[0]).children().last();
                            ancla2 = $(sig_cabeceras_h2[0]).children().last();
                            
                            navegacion = "(<a href = '#" + $(ancla1).attr("name") + "'>^</a> | <a href = '#" + $(ancla2).attr("name") + "'>v</a>) ";
                        }
                        else if(ant_cabeceras_h2.length > 0)
                        {
                            ancla1 = $(ant_cabeceras_h2[0]).children().last();
                            
                            navegacion = "(<a href = '#" + $(ancla1).attr("name") + "'>^</a>) ";
                        }
                        else if(sig_cabeceras_h2.length > 0)
                        {
                            ancla1 = $(sig_cabeceras_h2[0]).children().last();
                            
                            navegacion = "(<a href = '#" + $(ancla1).attr("name") + "'>v</a>) ";
                        }
                        
                        $(this).prepend(navegacion);
                    });
                });
            </script>
        </div>
    </body>
</html>
